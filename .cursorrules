# Uprent Plus - Project Context

## Tech Stack
- **Monorepo**: Turborepo (pnpm workspaces)
- **Frontend**: Next.js 14.2.35, TypeScript 5.9, React 18.3.1, Tailwind CSS
- **Backend**: Next.js API routes, TypeScript
- **Database**: Supabase (PostgreSQL with PostGIS)
- **Mobile**: React Native with Expo (EAS)
- **Deployment**: Vercel (web app), Railway (scraper)
- **Payments**: Stripe (subscriptions)
- **Notifications**: Multi-channel (email, push, SMS, Telegram)

## Project Overview
Property rental platform that:
1. Scrapes property listings from Dutch real estate sites
2. Stores properties in Supabase database
3. Matches properties against user search profiles
4. Sends notifications when matches are found
5. Provides web dashboard and mobile apps for users

## File Structure
```
rentfusion/
├── apps/
│   ├── mobile/                     # React Native app (Expo)
│   ├── mobile-standalone/          # Standalone mobile deployment
│   └── uprent-web/                 # Alternative web build
└── packages/
    ├── database/                   # Supabase client & types
    └── ui/                         # Shared UI components
```

## Coding Preferences

### Code Style
- Use TypeScript strict mode
- Prefer async/await over promises
- Use functional components for React
- Keep functions small and single-purpose
- Add error handling for all external calls
- Use descriptive variable names
- Follow existing code patterns

### Database Operations
- Always use Supabase client for database operations
- Use service role key for admin operations only
- Add proper error handling for database operations
- Log database errors with context

### Environment Variables
- Never hard-code credentials or URLs
- Use `NEXT_PUBLIC_*` prefix for client-side variables in Next.js
- Keep service role keys server-side only

### Error Handling
- Always wrap external API calls in try-catch
- Log errors with context (user ID, property ID, etc.)
- Return meaningful error messages to users
- Use proper HTTP status codes
- Don't expose sensitive information in error messages
